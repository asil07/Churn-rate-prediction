# -*- coding: utf-8 -*-
"""With_LogisticReg.ipynb

Automatically generated by Colaboratory.


### Sklearn ning tayyor Logistic Regression classi bilan malumotlarni training qildirib ko'rdim. Natija 85% accuracy ga chiqdi. 

*`neaural network bilan qilgan modelim esa 93% accuracy chiqgan`*
"""

import pandas as pd
import numpy as np

from sklearn.preprocessing import LabelEncoder
from sklearn.preprocessing import StandardScaler
from sklearn.metrics import classification_report
from sklearn.linear_model import LogisticRegression
from sklearn.model_selection import train_test_split

from google.colab import files
uploaded = files.upload()

df = pd.read_csv("churn.csv")
df.head()

"""### Bu yerda ustunlardagi qiymatlarni barchasini raqamga aylantiramiz"""

for column in df.columns:
  if df[column].dtype == np.number: 
    continue
  else:
    df[column] = LabelEncoder().fit_transform(df[column])

df.head()

X = df.drop("Churn?", axis=1) # Feature
y = df["Churn?"]


X = StandardScaler().fit_transform(X)

x_train, x_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)



model = LogisticRegression()

model.fit(x_train, y_train)

predictions = model.predict(x_test)
print(predictions)

"""### Logistic Regression bilan 85% accuracy gacha chiqdi"""

print(classification_report(y_test, predictions))

